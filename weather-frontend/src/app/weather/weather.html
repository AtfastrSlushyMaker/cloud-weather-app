<div class="weather-container">
    <div class="weather-card">
        <h1>🌤️ Weather App</h1>

        <div class="search-section">
            <input type="text" [(ngModel)]="city" placeholder="Enter city name" class="city-input"
                (keyup.enter)="getWeather()">
            <button (click)="getWeather()" class="search-btn" [disabled]="loading">
                {{ loading ? 'Loading...' : 'Get Weather' }}
            </button>
        </div>

        <div *ngIf="error" class="error">
            {{ error }}
        </div>

        <div *ngIf="loading" class="loading">
            <div class="spinner"></div>
            <p>Fetching weather data...</p>
        </div>

        <div *ngIf="weatherData && !loading" class="weather-info">
            <div class="location">
                <h2>{{ weatherData.name }}, {{ weatherData.sys.country }}</h2>
            </div>

            <div class="main-weather">
                <div class="temperature">
                    <span class="temp">{{ weatherData.main.temp | number:'1.0-0' }}°C</span>
                    <p class="description">{{ weatherData.weather[0].description | titlecase }}</p>
                </div>
                <div class="weather-icon">
                    <img [src]="'https://openweathermap.org/img/wn/' + weatherData.weather[0].icon + '@2x.png'"
                        [alt]="weatherData.weather[0].description"
                        [title]="weatherData.weather[0].description"
                        alt="Weather icon"
                        title="Weather icon">
                </div>
            </div>

            <div class="weather-details">
                <div class="detail-item">
                    <span class="label">Feels like</span>
                    <span class="value">{{ weatherData.main.feels_like | number:'1.0-0' }}°C</span>
                </div>
                <div class="detail-item">
                    <span class="label">Humidity</span>
                    <span class="value">{{ weatherData.main.humidity }}%</span>
                </div>
                <div class="detail-item">
                    <span class="label">Pressure</span>
                    <span class="value">{{ weatherData.main.pressure }} hPa</span>
                </div>
                <div class="detail-item">
                    <span class="label">Wind Speed</span>
                    <span class="value">{{ weatherData.wind.speed }} m/s</span>
                </div>            </div>
        </div>
          <!-- Debug link for troubleshooting -->
        <div class="debug-link">
            <small>Having issues? <a routerLink="/debug">Open Debug Page</a></small>
        </div>
    </div>
</div>